<!-- HTML header for doxygen 1.8.17-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>rack: Writing SVG files</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="rack.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="rack-logo-110x55.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname"><!-- rack /-->
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Writing SVG files </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="fileio_svg"></a>
Automatical generation of SVG files</h1>
<p><b>Rack</b> supports presenting generated PNG images collectively using Scalable Vector Graphics (SVG) format.</p>
<p>When executing <b>Rack</b>, all the PNG images that have been written with <code>&ndash;outputFile</code> / <code>-o</code> <br  />
 are included automatically in a simple <em>internal</em> SVG structure. This is neither time nor memory consuming, as the SVG structure itself is lightweight. In addition, some processing - like alignment of elements - only if an SVG file is actually written with <code>&ndash;outputFile</code> <code></code> &lt;file&gt;.svg command. Typically, that command is the last one executed.</p>
<h2><a class="anchor" id="svg_example"></a>
Examples of SVG panels</h2>
<p>Align two images horizontally (default) </p><div class="fragment"><div class="line"><a class="code" href="namespacerack.html">rack</a> --outputPrefix $PWD/out/ --outputConf svg:absolutePaths=true  \</div>
<div class="line">   volume.h5 --cSize 400 -Q DBZH -c -o gray.png --palette <span class="keywordflow">default</span> -o rgb.png \</div>
<div class="line">   -o simple.svg</div>
<div class="ttc" id="anamespacerack_html"><div class="ttname"><a href="namespacerack.html">rack</a></div><div class="ttdef"><b>Definition:</b> DataSelector.cpp:44</div></div>
</div><!-- fragment --><div class="image">
<img src="simple.png" alt=""/>
<div class="caption">
SVG output 'simple.png'</div></div>
 Also legend outputs (SVG) are included </p><div class="fragment"><div class="line"><a class="code" href="namespacerack.html">rack</a> --outputPrefix $PWD/out/ --outputConf svg:absolutePaths=true  \</div>
<div class="line">   volume.h5 --cSize 400 -Q DBZH -c -o gray.png --palette <span class="keywordflow">default</span> -o rgb.png \</div>
<div class="line">   --legendOut legend.svg \</div>
<div class="line">   -o simple2.svg</div>
</div><!-- fragment --><div class="image">
<img src="simple2.png" alt=""/>
<div class="caption">
SVG output 'simple2.png'</div></div>
 With several inputs, it is handier to use <code>--script</code> . (See: <a class="el" href="scriptspage.html#scripts">Defining scripts</a> .) Output names must be distinct, which is achieved using variables. (See <a class="el" href="text-output-page.html#templates">Formatting metadata output using templates</a> .) </p><div class="fragment"><div class="line"><a class="code" href="namespacerack.html">rack</a> --outputPrefix $PWD/out/ --outputConf svg:absolutePaths=<span class="keyword">true</span>  \</div>
<div class="line">   --script <span class="stringliteral">&#39;--cReset --cSize 300 -Q DBZH -c --palette &quot;&quot; -o out-${NOD}.png&#39;</span> \</div>
<div class="line">   data/pvol_fianj.h5 data/pvol_fikor.h5 data/pvol_fikuo.h5 -o triple1.svg</div>
</div><!-- fragment --><div class="image">
<img src="triple1.png" alt=""/>
<div class="caption">
SVG output 'triple1.png'</div></div>
 Variables identifying the radar and timestamp often distinguish files sufficiently. Hence, consider using variables like <code>${NOD}</code> , <code>${what:date}</code>, and <code>${what:time}</code> . <code>Rack</code> supports grouping output images to rows or columns. Use <code>--cGroup</code> to set a distinguishing key. </p><div class="fragment"><div class="line"><a class="code" href="namespacerack.html">rack</a> --outputPrefix $PWD/out/ --outputConf svg:absolutePaths=<span class="keyword">true</span>  \</div>
<div class="line">   --script <span class="stringliteral">&#39;--cReset --cSize 300 -Q DBZH -c --palette &quot;&quot; -o out-${what:date}T${what:time}-${NOD}.png&#39;</span> \</div>
<div class="line">   --gGroup <span class="stringliteral">&#39;Test-${NOD}&#39;</span> \</div>
<div class="line">   data-kiira<span class="comment">/*.h5 -o series1.svg</span></div>
</div><!-- fragment --><div class="image">
<img src="series1.png" alt=""/>
<div class="caption">
SVG output 'series1.png'</div></div>
 In a grid of images, originating from several radars and times, the images can be labelled automatically with <code>--gTitles</code> command, with option <code>IMAGE_TITLES</code> . </p><div class="fragment"><div class="line"><a class="code" href="namespacerack.html">rack</a> --outputPrefix $PWD/out/ --outputConf svg:absolutePaths=<span class="keyword">true</span>  \</div>
<div class="line">   --script <span class="stringliteral">&#39;--cReset --cSize 300 -Q DBZH -c --palette &quot;&quot; -o out-${what:date}T${what:time}-${NOD}.png&#39;</span> \</div>
<div class="line">   --gGroup <span class="stringliteral">&#39;Examples of ${PLC} (${NOD}) on ${what:date|%Y/%m/%d}&#39;</span> --gTitles IMAGE_TITLE \</div>
<div class="line">   data-kiira<span class="comment">/*.h5 -o series-labelled.svg</span></div>
</div><!-- fragment --><div class="image">
<img src="series-labelled.png" alt=""/>
<div class="caption">
SVG output 'series-labelled.png'</div></div>
 </p>
<p>Alignment of the elements is done horizontally or vertically.</p>
<div class="fragment"><div class="line"><a class="code" href="namespacerack.html">rack</a> volume.h5  --pCappi 500  -c -o $PWD/cappi-gray.png --palette <span class="stringliteral">&#39;&#39;</span> -o $PWD/cappi-rgb.png --outputConf svg:absolutePaths=<span class="keyword">true</span> -o display-cappi.svg</div>
</div><!-- fragment --><div class="image">
<img src="display-cappi.svg.png" alt=""/>
<div class="caption">
SVG panel</div></div>
 <p>By default, images are positioned horizontally, from left to right. This can be changed with <code>&ndash;outputConf</code> <code>svg</code> , selecting <code>orientation</code> as <code>HORZ</code> or <code>VERT</code> and coordinate <code>direction</code> as increasing (<code>INCR</code> ) or decreasing (<code>DECR</code> ).</p>
<div class="fragment"><div class="line">group=main ()</div>
<div class="line">max=10 (max per row/column)</div>
<div class="line">title= ()</div>
<div class="line">absolutePaths=false ()</div>
<div class="line">fontSize=12,10,8,6 ()</div>
<div class="line">debug=0 ()</div>
</div><!-- fragment --><p>Example: </p><div class="fragment"><div class="line"><a class="code" href="namespacerack.html">rack</a> volume.h5 --pCappi 500 -o $PWD/cappi-polar-DBZH.png  -c --palette <span class="stringliteral">&#39;&#39;</span> -o $PWD/cappi-rgb.png --outputConf absolutePaths=<span class="keyword">true</span>  --gLayout orientation=VERT,direction=DECR -o display2-cappi.svg</div>
</div><!-- fragment --><div class="image">
<img src="display2-cappi.svg.png" alt=""/>
<div class="caption">
SVG panel</div></div>
 <p>Example: time series </p><div class="fragment"><div class="line"><a class="code" href="namespacerack.html">rack</a> --outputConf svg:absolutePaths=<span class="keyword">true</span> --outputPrefix $PWD/ --cSize 300 --script <span class="stringliteral">&#39;-Q DBZH -c --palette &quot;&quot; -o out-${what:date|%Y%m%d}.png&#39;</span> --outputConf svg:group=May  data-acc/201705?51200_*.h5 --outputConf svg:group=June  data-acc/201706?51200_*.h5  -o time-series.svg</div>
</div><!-- fragment --><div class="image">
<img src="time-series.svg.png" alt=""/>
<div class="caption">
SVG panel</div></div>
 <p>The resulting SVG file can be converted to various other image formats using ImageMagick's <code>convert</code> program, for example. Note that some versions of it require absolute paths in filenames. A good alternative is <code>inkscape</code> .</p>
<p>Note that you can also create SVG files using templates, see <a class="el" href="text-output-page.html#templates">Formatting metadata output using templates</a> .</p>
<p>Remark. In future versions:</p><ul>
<li>the parameters of <code>&ndash;outputConf</code> <code>svg</code> may change.</li>
<li>title formatting supported (using -c &ndash;format ) </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- HTML footer for doxygen 1.8.17-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.9.1
</small></address>
</body>
</html>
